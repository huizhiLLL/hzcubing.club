import{_ as ut,r as i,d as rt,c as x,o as it,B as ct,M as dt,j,l as T,m as D,C as Te,v as A,q as l,n as r,p as v,s as B,I as vt,H as M,t as m,X as mt,R as ft,F as re,A as ie,N as pt,Y as gt,z as be,Z as ht,$ as yt,E as w,a0 as Tt,x as V,a1 as bt,L as _t}from"./index-BHRzxtpC.js";const Dt={class:"cube-timer"},wt={class:"nav-center"},Ft={class:"nav-text"},Nt={class:"sidebar"},kt={class:"group-tag-container"},It={key:0,class:"group-dropdown"},Ct=["onClick"],St={class:"stats-table"},Gt={class:"overall-stats"},xt={class:"solve-count"},At={class:"average-time"},Bt={class:"times-list"},Mt={class:"list-content"},Vt=["onClick"],Ut={class:"time-index"},Et={class:"time-value"},Rt={class:"timer-main"},$t={class:"scramble-display"},Lt={class:"timer-text"},Ot={key:0,class:"penalty-text"},Kt={class:"average-display"},Pt={class:"avg-item"},zt={class:"avg-value"},qt={class:"avg-item"},Jt={class:"avg-value"},jt={class:"top-right-tools"},Ht={class:"upload-section"},Wt={class:"dialog-footer"},Yt={key:1,class:"fullscreen-timer"},Xt={class:"fullscreen-timer-text"},Zt={key:2,class:"particle-container"},Qt={key:0,class:"time-detail-content"},el={class:"detail-time-display"},tl={class:"detail-field"},ll={class:"detail-field"},sl={class:"field-value"},al={class:"detail-field"},nl={class:"field-value"},ol={class:"detail-footer-buttons"},ul={class:"group-edit-content"},rl={class:"edit-field"},il={class:"detail-footer-buttons"},cl={style:{display:"flex",gap:"10px"}},dl={__name:"CubeTimer",setup(vl){const g=i(0),H=i(0),Z=i(0),K=i(null),Q=i(""),ee=i(0),W=i(""),P=i([{id:"wca333",name:"三阶速拧",type:"wca"},{id:"cto333",name:"CTO三阶",type:"cto"}]),z=i("wca333");i(!1);const c=i({1:[]}),F=i([{id:1,name:"分组一",isDefault:!0}]),d=i(1),Y=i(!1),U=i(!1),I=i(null),E=i(""),h=rt({current:null,best:null,ao5:null,bestAo5:null,ao12:null,bestAo12:null,ao100:null,bestAo100:null}),q=i(!1),b=i(null),y=i(-1),ce=x(()=>g.value===2?((Z.value-H.value)/1e3).toFixed(1):g.value===3?N(ee.value):"0.000"),te=x(()=>c.value[d.value]||[]),le=x(()=>F.value.find(t=>t.id===d.value)||F.value[0]),se=x(()=>P.value.find(t=>t.id===z.value)||P.value[0]),_e=x(()=>{const t=c.value[d.value]||[];if(t.length===0)return null;const e=t.filter(a=>a.status!=="DNF");if(e.length===0)return null;const s=e.reduce((a,n)=>a+n.time+(n.penalty||0),0);return N(s/e.length)}),De=x(()=>(c.value[d.value]||[]).filter(e=>e.status!=="DNF").length),we=x(()=>(c.value[d.value]||[]).length),N=(t,e=0,s="OK")=>s==="DNF"?"DNF":((t+e)/1e3).toFixed(3)+(e>0?"+":""),Fe=t=>{const e=new Date(t),s=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),u=String(e.getHours()).padStart(2,"0"),f=String(e.getMinutes()).padStart(2,"0");return`${s}-${a}-${n} ${u}:${f}`},Ne=(()=>{const t=s=>s[Math.random()*s.length|0],e=[["U","U'","U2"],["D","D'","D2"],["F","F'","F2"],["B","B'","B2"],["L","L'","L2"],["R","R'","R2"]];return()=>{const s=[];let a=-1;for(let n=0;n<20;++n){let u;do u=Math.random()*6|0;while(u===a);s.push(t(e[u])),a=u}return s.join(" ")}})(),ke=(()=>{const t=a=>a[Math.random()*a.length|0],e=[["U","U'","U2"],["D","D'","D2"],["F","F'","F2"],["B","B'","B2"],["L","L'","L2"],["R","R'","R2"]],s=[["u","u'","u2"],["d","d'","d2"],["f","f'","f2"],["b","b'","b2"],["l","l'","l2"],["r","r'","r2"]];return()=>{const a=20+(Math.random()*11|0),n=[];let u=-1;for(let o=0;o<a;++o){let p;do p=Math.random()*6|0;while(p===u);n.push(t(e[p])),u=p}const f=Math.random()*7|0;return f&&[...Array(6).keys()].sort(()=>Math.random()-.5).slice(0,f).forEach(p=>n.push(t(s[p]))),n.join(" ")}})(),ae=()=>{se.value.type==="wca"?W.value=Ne():se.value.type==="cto"&&(W.value=ke())},J=t=>{g.value=t},de=()=>{if(g.value!==2)return;const t=performance.now();Z.value=t,K.value=requestAnimationFrame(de)},ve=()=>{J(2),H.value=performance.now(),Z.value=H.value,de()},me=()=>{K.value&&cancelAnimationFrame(K.value);const e=performance.now()-H.value;ee.value=e;const s=Ie(e);c.value[d.value].unshift({time:e,scramble:W.value,timestamp:Date.now(),comment:"",penalty:0,status:"OK"}),R(),$(),ae(),J(3),Q.value="",s&&nt()},Ie=t=>{const e=c.value[d.value]||[];if(e.length===0)return!0;const s=e.filter(n=>n.status!=="DNF");if(s.length===0)return!0;const a=Math.min(...s.map(n=>n.time+(n.penalty||0)));return t<a},fe=()=>{J(0),ee.value=0},Ce=t=>{t&&t.target.tagName==="BUTTON"||(g.value===0?J(1):g.value===2&&me())},Se=()=>{g.value===1?ve():g.value===3&&fe()},ne=t=>{t.code==="Space"&&(t.preventDefault(),g.value===0?J(1):g.value===2?me():g.value===3&&fe())},oe=t=>{t.code==="Space"&&(t.preventDefault(),g.value===1&&ve())},C=(t,e)=>{if(t.length<e)return null;const a=t.slice(0,e).map(o=>({...o,effectiveTime:o.status==="DNF"?999999:o.time+(o.penalty||0)}));a.sort((o,p)=>o.effectiveTime-p.effectiveTime);const n=a.slice(1,-1);return n.some(o=>o.status==="DNF")?"DNF":n.reduce((o,p)=>o+p.effectiveTime,0)/n.length},Ge=t=>{const e=c.value[d.value]||[];if(e.length===0)return"-";const s=e.length-t;if(s<5)return"-";const a=e.length-s,n=e.length-(s-5);if(a<0||n>e.length||a>=n)return"-";const u=e.slice(a,n);if(u.length!==5)return"-";const f=u.map(_=>({..._,effectiveTime:_.status==="DNF"?999999:_.time+(_.penalty||0)}));f.sort((_,ue)=>_.effectiveTime-ue.effectiveTime);const o=f.slice(1,-1);return o.some(_=>_.status==="DNF")?"DNF":(o.reduce((_,ue)=>_+ue.effectiveTime,0)/o.length/1e3).toFixed(3)},xe=t=>{const e=c.value[d.value]||[];if(e.length===0)return"-";const s=e.length-t;if(s<12)return"-";const a=e.length-s,n=e.length-(s-12);if(a<0||n>e.length||a>=n)return"-";const u=e.slice(a,n);if(u.length!==12)return"-";const f=u.map(k=>({...k,effectiveTime:k.status==="DNF"?999999:k.time+(k.penalty||0)}));f.sort((k,_)=>k.effectiveTime-_.effectiveTime);const o=f.slice(1,-1);return o.some(k=>k.status==="DNF")?"DNF":(o.reduce((k,_)=>k+_.effectiveTime,0)/o.length/1e3).toFixed(3)},R=()=>{const t=c.value[d.value]||[];if(t.length===0)return;h.current=N(t[0].time,t[0].penalty,t[0].status);const e=t.filter(s=>s.status!=="DNF");if(e.length>0){const s=Math.min(...e.map(a=>a.time+(a.penalty||0)));h.best=N(s)}if(t.length>=5&&(h.ao5=N(C(t,5))),t.length>=12&&(h.ao12=N(C(t,12))),t.length>=100&&(h.ao100=N(C(t,100))),t.length>=5){let s=1/0;for(let a=0;a<=t.length-5;a++){const n=C(t.slice(a,a+5),5);n&&n<s&&(s=n)}h.bestAo5=N(s)}if(t.length>=12){let s=1/0;for(let a=0;a<=t.length-12;a++){const n=C(t.slice(a,a+12),12);n&&n<s&&(s=n)}h.bestAo12=N(s)}if(t.length>=100){let s=1/0;for(let a=0;a<=t.length-100;a++){const n=C(t.slice(a,a+100),100);n&&n<s&&(s=n)}h.bestAo100=N(s)}},$=()=>{localStorage.setItem("cubeTimerGroupTimes",JSON.stringify(c.value))},Ae=()=>{const t=localStorage.getItem("cubeTimerGroupTimes");t&&(c.value=JSON.parse(t))},Be=t=>{const e=c.value[d.value]||[];t>=0&&t<e.length&&(y.value=t,b.value=e[t],q.value=!0)},Me=()=>{if(y.value>=0){const t=c.value[d.value]||[];y.value<t.length&&(t.splice(y.value,1),$(),R(),q.value=!1,w.success("成绩已删除"))}},Ve=()=>{if(b.value&&y.value>=0){const t=c.value[d.value]||[];y.value<t.length&&(t[y.value].comment=b.value.comment,$(),w.success("注释已保存"))}},Ue=()=>{Ve(),q.value=!1},Ee=()=>{if(b.value&&y.value>=0){const t=c.value[d.value]||[];if(y.value<t.length){const e=t[y.value];e.penalty=2e3,e.status="+2",$(),R(),w.success("已应用+2惩罚")}}},Re=()=>{if(b.value&&y.value>=0){const t=c.value[d.value]||[];if(y.value<t.length){const e=t[y.value];e.status="DNF",$(),R(),w.success("已标记为DNF")}}},$e=()=>{if(b.value&&y.value>=0){const t=c.value[d.value]||[];if(y.value<t.length){const e=t[y.value];e.penalty=0,e.status="OK",$(),R(),w.success("已清除惩罚")}}},Le=()=>{Y.value=!Y.value},Oe=t=>{d.value=t,Y.value=!1,c.value[t]||(c.value[t]=[]),R()},Ke=()=>{I.value=le.value,E.value=le.value.name,U.value=!0},Pe=()=>{I.value=null,E.value="",U.value=!0},pe=()=>{if(!E.value.trim()){w.error("分组名称不能为空");return}if(I.value)I.value.name=E.value.trim(),w.success("分组名称已更新");else{const t=Math.max(...F.value.map(e=>e.id))+1;F.value.push({id:t,name:E.value.trim(),isDefault:!1}),d.value=t,c.value[t]=[],w.success("新分组已创建")}U.value=!1,ge()},ze=()=>{if(!I.value||I.value.isDefault){w.error("默认分组不能删除");return}if(F.value.length<=1){w.error("至少需要保留一个分组");return}_t.confirm("您确定要删除该分组吗？删除后该分组的所有成绩将无法恢复。","确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const t=I.value.id;F.value=F.value.filter(e=>e.id!==t),d.value===t&&(d.value=F.value[0].id),c.value[t]=[],w.success("分组已删除"),U.value=!1,ge(),$(),R()}).catch(()=>{})},ge=()=>{localStorage.setItem("cubeTimerGroups",JSON.stringify(F.value)),localStorage.setItem("cubeTimerCurrentGroup",d.value.toString())},qe=()=>{const t=localStorage.getItem("cubeTimerGroups");t&&(F.value=JSON.parse(t));const e=localStorage.getItem("cubeTimerCurrentGroup");e&&(d.value=parseInt(e)),F.value.forEach(s=>{c.value[s.id]||(c.value[s.id]=[])})},Je=t=>{const e=c.value[d.value]||[];if(e.length===0||t<0)return!1;const s=e[t],a=s.time+(s.penalty||0);return s.status!=="DNF"&&a<=We(t)},je=t=>{const e=c.value[d.value]||[];if(e.length===0||t<0)return!1;const s=e.length-t;if(s<5)return!1;const a=e.length-s,n=e.length-(s-5);if(a<0||n>e.length||a>=n)return!1;const u=e.slice(a,n);if(u.length!==5)return!1;const f=C(u,5);return!f||f==="DNF"?!1:f<=Ye(t)},He=t=>{const e=c.value[d.value]||[];if(e.length===0||t<0)return!1;const s=e.length-t;if(s<12)return!1;const a=e.length-s,n=e.length-(s-12);if(a<0||n>e.length||a>=n)return!1;const u=e.slice(a,n);if(u.length!==12)return!1;const f=C(u,12);return!f||f==="DNF"?!1:f<=Xe(t)},We=t=>{const s=(c.value[d.value]||[]).slice(t+1);if(s.length===0)return 1/0;const a=s.filter(n=>n.status!=="DNF");return a.length===0?1/0:Math.min(...a.map(n=>n.time+(n.penalty||0)))},Ye=t=>{const s=(c.value[d.value]||[]).slice(t+1);if(s.length<4)return 1/0;let a=1/0;for(let n=0;n<=s.length-5;n++){const u=C(s.slice(n,n+5),5);u&&u!=="DNF"&&u<a&&(a=u)}return a},Xe=t=>{const s=(c.value[d.value]||[]).slice(t+1);if(s.length<11)return 1/0;let a=1/0;for(let n=0;n<=s.length-12;n++){const u=C(s.slice(n,n+12),12);u&&u!=="DNF"&&u<a&&(a=u)}return a};it(()=>{Ae(),qe(),et(),ae(),document.addEventListener("keydown",ne),document.addEventListener("keyup",oe);const t=localStorage.getItem("cubeTimerBgImage");t&&(G.value=t)}),dt(()=>{document.removeEventListener("keydown",ne),document.removeEventListener("keyup",oe),K.value&&cancelAnimationFrame(K.value),L.value&&cancelAnimationFrame(L.value)});const Ze=()=>{const e=(P.value.findIndex(a=>a.id===z.value)+1)%P.value.length,s=P.value[e];z.value=s.id,ae(),Qe()},Qe=()=>{localStorage.setItem("cubeTimerScrambleType",z.value)},et=()=>{const t=localStorage.getItem("cubeTimerScrambleType");t&&(z.value=t)},G=i(""),O=i(!1),X=i(!1),S=i([]),L=i(null);i(!1),i(""),i(null),i(null),i(null),i({x:0,y:0,width:0,height:0});const tt=x(()=>({background:G.value?`linear-gradient(rgba(230,242,253,0.7),rgba(187,222,251,0.7)), url(${G.value})`:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"})),lt=t=>{console.log("开始处理图片上传:",t);const e=new FileReader;return e.onload=s=>{console.log("图片读取完成，直接应用背景"),G.value=s.target.result,localStorage.setItem("cubeTimerBgImage",s.target.result),O.value=!1,w.success("背景图片已设置")},e.onerror=()=>{console.error("图片读取失败"),w.error("图片加载失败，请重试")},e.readAsDataURL(t),!1},st=()=>{G.value="",localStorage.removeItem("cubeTimerBgImage")},at=()=>{G.value="",localStorage.removeItem("cubeTimerBgImage"),O.value=!1},nt=()=>{console.log("触发粒子效果，当前粒子数量:",S.value.length),L.value&&(cancelAnimationFrame(L.value),L.value=null,console.log("停止之前的动画")),S.value=[],X.value=!1,ct(()=>{X.value=!0;const t=window.innerWidth/2,e=window.innerHeight/2;for(let s=0;s<100;s++){const a=Math.PI*2*s/100,n=4+Math.random()*6;S.value.push({id:s,x:t,y:e,vx:Math.cos(a)*n,vy:Math.sin(a)*n,rotation:Math.random()*360,scale:.3+Math.random()*1.5,opacity:1,color:ot(),life:150+Math.random()*100})}console.log("创建了",S.value.length,"个新粒子"),he()})},ot=()=>{const t=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#FFB347","#87CEEB"];return t[Math.floor(Math.random()*t.length)]},he=()=>{if(S.value.length===0){X.value=!1,L.value=null;return}S.value.forEach(t=>{t.x+=t.vx,t.y+=t.vy,t.vy+=.05,t.rotation+=3,t.opacity-=.01,t.life-=.8}),S.value=S.value.filter(t=>t.life>0),L.value=requestAnimationFrame(he)};return(t,e)=>{const s=j("el-icon"),a=j("el-button"),n=j("el-upload"),u=j("el-dialog"),f=j("el-input");return T(),D("div",Dt,[G.value?(T(),D("div",{key:0,class:"timer-bg-image",style:Te(tt.value)},null,4)):A("",!0),l("div",{class:M(["back-button-container",{hidden:g.value===2}])},[r(a,{type:"primary",size:"large",circle:"",onClick:e[0]||(e[0]=o=>t.$router.push("/")),class:"back-button"},{default:v(()=>[r(s,null,{default:v(()=>[r(B(vt),{icon:"mdi:arrow-left"})]),_:1})]),_:1})],2),l("header",{class:M(["top-navbar",{hidden:g.value===2}])},[l("div",wt,[e[9]||(e[9]=l("span",{class:"nav-text"},"WCA",-1)),l("div",{class:"scramble-selector",onClick:Ze},[l("span",Ft,m(se.value.name),1)]),e[10]||(e[10]=l("span",{class:"scramble-hint"},"（点击切换打乱项目）",-1))])],2),l("div",{class:M(["main-container",{hidden:g.value===2}])},[l("aside",Nt,[e[19]||(e[19]=l("div",{class:"app-title"},[l("span",{class:"title-text"},"Cube Timer")],-1)),l("div",kt,[l("div",{class:"group-tag",onClick:Le},[l("span",null,m(le.value.name),1),r(s,{class:"dropdown-icon"},{default:v(()=>[r(B(mt))]),_:1})]),r(a,{type:"text",size:"small",class:"edit-group-btn",onClick:Ke},{default:v(()=>[r(s,null,{default:v(()=>[r(B(ft))]),_:1})]),_:1}),Y.value?(T(),D("div",It,[(T(!0),D(re,null,ie(F.value,o=>(T(),D("div",{key:o.id,class:M(["group-item",{active:o.id===d.value}]),onClick:p=>Oe(o.id)},[l("span",null,m(o.name),1)],10,Ct))),128)),e[12]||(e[12]=l("div",{class:"group-divider"},null,-1)),l("div",{class:"group-item new-group",onClick:Pe},[r(s,null,{default:v(()=>[r(B(pt))]),_:1}),e[11]||(e[11]=l("span",null,"新建",-1))])])):A("",!0)]),l("div",St,[l("table",null,[e[17]||(e[17]=l("thead",null,[l("tr",null,[l("th"),l("th",null,"当前"),l("th",null,"最快")])],-1)),l("tbody",null,[l("tr",null,[e[13]||(e[13]=l("td",{class:"row-label"},"单次",-1)),l("td",null,m(h.current||"-"),1),l("td",null,m(h.best||"-"),1)]),l("tr",null,[e[14]||(e[14]=l("td",{class:"row-label"},"ao5",-1)),l("td",null,m(h.ao5||"-"),1),l("td",null,m(h.bestAo5||"-"),1)]),l("tr",null,[e[15]||(e[15]=l("td",{class:"row-label"},"ao12",-1)),l("td",null,m(h.ao12||"-"),1),l("td",null,m(h.bestAo12||"-"),1)]),l("tr",null,[e[16]||(e[16]=l("td",{class:"row-label"},"ao100",-1)),l("td",null,m(h.ao100||"-"),1),l("td",null,m(h.bestAo100||"-"),1)])])])]),l("div",Gt,[l("div",xt,"还原: "+m(De.value)+"/"+m(we.value),1),l("div",At,"平均: "+m(_e.value||"-"),1)]),l("div",Bt,[e[18]||(e[18]=l("div",{class:"list-header"},[l("span",null,"ρ"),l("span",null,"时间"),l("span",null,"ao5"),l("span",null,"ao12")],-1)),l("div",Mt,[(T(!0),D(re,null,ie(te.value,(o,p)=>(T(),D("div",{key:p,class:M(["time-item",{"new-record":Je(p)}]),onClick:ye=>Be(p)},[l("span",Ut,m(te.value.length-p),1),l("span",Et,m(N(o.time,o.penalty,o.status)),1),l("span",{class:M(["time-ao5",{"new-record":je(p)}])},m(Ge(p)),3),l("span",{class:M(["time-ao12",{"new-record":He(p)}])},m(xe(p)),3)],10,Vt))),128))])])]),l("main",Rt,[l("div",$t,m(W.value||"长按或空格开始"),1),l("div",{class:M(["timer-display",{"timer-ready":g.value===1,"timer-running":g.value===2}]),onPointerdown:Ce,onPointerup:Se,onKeydown:ne,onKeyup:oe,tabindex:"0"},[l("span",Lt,m(ce.value),1),Q.value?(T(),D("span",Ot,"(+"+m(Q.value)+")",1)):A("",!0)],34),l("div",Kt,[l("div",Pt,[e[20]||(e[20]=l("span",{class:"avg-label"},"ao5:",-1)),l("span",zt,m(h.ao5||"-"),1)]),l("div",qt,[e[21]||(e[21]=l("span",{class:"avg-label"},"ao12:",-1)),l("span",Jt,m(h.ao12||"-"),1)])]),l("div",jt,[r(a,{type:"text",size:"large",circle:"",onClick:e[1]||(e[1]=o=>O.value=!0)},{default:v(()=>[r(s,null,{default:v(()=>[r(B(gt))]),_:1})]),_:1}),G.value?(T(),be(a,{key:0,type:"text",size:"large",circle:"",onClick:st},{default:v(()=>[r(s,null,{default:v(()=>[r(B(ht))]),_:1})]),_:1})):A("",!0),r(a,{type:"text",size:"large",circle:""},{default:v(()=>[r(s,null,{default:v(()=>[r(B(yt))]),_:1})]),_:1})]),r(u,{modelValue:O.value,"onUpdate:modelValue":e[3]||(e[3]=o=>O.value=o),title:"上传背景图片",width:"400px"},{footer:v(()=>[l("div",Wt,[r(a,{onClick:at},{default:v(()=>e[23]||(e[23]=[V("使用默认背景")])),_:1}),r(a,{type:"primary",onClick:e[2]||(e[2]=o=>O.value=!1)},{default:v(()=>e[24]||(e[24]=[V("关闭")])),_:1})])]),default:v(()=>[l("div",Ht,[r(n,{class:"bg-uploader",drag:"","show-file-list":!1,"before-upload":lt,accept:"image/*"},{default:v(()=>[r(s,{class:"el-icon--upload"},{default:v(()=>[r(B(Tt))]),_:1}),e[22]||(e[22]=l("div",{class:"el-upload__text"},[V("将图片拖到此处，或 "),l("em",null,"点击上传")],-1))]),_:1})])]),_:1},8,["modelValue"])])],2),g.value===2?(T(),D("div",Yt,[l("div",Xt,m(ce.value),1)])):A("",!0),X.value?(T(),D("div",Zt,[(T(!0),D(re,null,ie(S.value,o=>(T(),D("div",{key:o.id,class:"particle",style:Te({left:o.x+"px",top:o.y+"px",transform:`rotate(${o.rotation}deg) scale(${o.scale})`,opacity:o.opacity,backgroundColor:o.color})},null,4))),128))])):A("",!0),r(u,{modelValue:q.value,"onUpdate:modelValue":e[5]||(e[5]=o=>q.value=o),title:`Solves No.${te.value.length-y.value}`,width:"500px",class:"time-detail-dialog"},{footer:v(()=>[l("div",ol,[r(a,{type:"primary",onClick:Ue},{default:v(()=>e[30]||(e[30]=[V("确定")])),_:1}),r(a,{onClick:Me,type:"danger"},{default:v(()=>e[31]||(e[31]=[V("删除")])),_:1})])]),default:v(()=>[b.value?(T(),D("div",Qt,[l("div",el,m(N(b.value.time,b.value.penalty,b.value.status)),1),l("div",{class:"detail-action-buttons"},[l("div",{class:"action-item action-ok",onClick:$e},"OK"),e[25]||(e[25]=l("div",{class:"action-divider"},null,-1)),l("div",{class:"action-item action-penalty",onClick:Ee},"+2"),e[26]||(e[26]=l("div",{class:"action-divider"},null,-1)),l("div",{class:"action-item action-dnf",onClick:Re},"DNF")]),l("div",tl,[e[27]||(e[27]=l("label",{class:"field-label"},"注释",-1)),r(f,{modelValue:b.value.comment,"onUpdate:modelValue":e[4]||(e[4]=o=>b.value.comment=o),placeholder:"添加注释...",class:"field-input"},null,8,["modelValue"])]),l("div",ll,[e[28]||(e[28]=l("label",{class:"field-label scramble-label"},"打乱公式",-1)),l("span",sl,m(b.value.scramble),1)]),l("div",al,[e[29]||(e[29]=l("label",{class:"field-label"},"日期",-1)),l("span",nl,m(Fe(b.value.timestamp)),1)])])):A("",!0)]),_:1},8,["modelValue","title"]),r(u,{modelValue:U.value,"onUpdate:modelValue":e[8]||(e[8]=o=>U.value=o),title:I.value?"编辑分组":"新建分组",width:"400px",class:"group-edit-dialog"},{footer:v(()=>[l("div",il,[l("div",null,[I.value&&!I.value.isDefault?(T(),be(a,{key:0,type:"danger",onClick:ze},{default:v(()=>e[33]||(e[33]=[V(" 删除分组 ")])),_:1})):A("",!0)]),l("div",cl,[r(a,{onClick:e[7]||(e[7]=o=>U.value=!1)},{default:v(()=>e[34]||(e[34]=[V("取消")])),_:1}),r(a,{type:"primary",onClick:pe},{default:v(()=>e[35]||(e[35]=[V("保存")])),_:1})])])]),default:v(()=>[l("div",ul,[l("div",rl,[e[32]||(e[32]=l("label",{class:"field-label"},"分组名称",-1)),r(f,{modelValue:E.value,"onUpdate:modelValue":e[6]||(e[6]=o=>E.value=o),placeholder:"请输入分组名称",onKeyup:bt(pe,["enter"]),class:"field-input"},null,8,["modelValue"])])])]),_:1},8,["modelValue","title"])])}}},fl=ut(dl,[["__scopeId","data-v-204cffee"]]);export{fl as default};
